{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/main.js","../src/js/pixabay-api.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { galleryEL } from '../main';\nimport { formEl } from '../main';\n\nexport function displayImages(images) {\n  imgGallery.innerHTML = '';\n  return images\n    .map(\n      image => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href =\"${image.largeImageURL}\">\n      <img class=\"gallery-image\"\n      width=\"1280\"\n      height=\"152\"\n      src=\"${image.webformatURL}\"\n      data-source=\"${image.largeImageURL}\"\n      alt=\"${image.tags}\" />\n      </a>\n      <ul class=\"gallery-description\">\n      <li>\n      <h3>Likes</h3><p>${image.likes}</p>\n      </li>\n      <li>\n      <h3>Views</h3><p>${image.views}</p>\n      </li>\n      <li>\n      <h3>Comments</h3><p>${image.comments}</p>\n      </li>\n      <li>\n      <h3>Downloads</h3><p>${image.downloads}</p>\n      </li>\n      </ul>\n      </li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchPhotos } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\n\nexport const galleryEL = document.querySelector('.gallery');\nexport const formEl = document.querySelector('.form');\n\nconst galleryCfg = {\n  captionsData: 'alt',\n};\n\nlet lightbox = new SimpleLightbox('.gallery a', galleryCfg);\nlightbox.on('show.simplelightbox', function () {});\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  const inputValue = event.currentTarget.elements.image.value.trim();\n  galleryEL.innerHTML = '<div class=\"loader\"></div>';\n\n  fetchPhotos(inputValue)\n    .then(data => {\n      const markup = displayImages(data.hits);\n      galleryEL.innerHTML = markup;\n      lightbox.refresh();\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    });\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { galleryEL } from '../main';\nimport { formEl } from '../main';\n\nexport function fetchPhotos(inputValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const searchParams = new URLSearchParams({\n    key: '44119919-a0aa1893dc0c72e99b6a5bc11',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n"],"names":["displayImages","images","image","galleryEL","formEl","galleryCfg","lightbox","SimpleLightbox","event","inputValue","fetchPhotos","data","markup","iziToast","error","BASE_URL","searchParams","response"],"mappings":"6vBASO,SAASA,EAAcC,EAAQ,CACpC,kBAAW,UAAY,GAChBA,EACJ,IACCC,GAAS;AAAA,uCACwBA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,aAI7CA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,aAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,yBAIEA,EAAM,KAAK;AAAA;AAAA;AAAA,yBAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,4BAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,6BAGbA,EAAM,SAAS;AAAA;AAAA;AAAA,YAIvC,EACA,KAAK,EAAE,CACZ,CC9BO,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,OAAO,EAE9CC,EAAa,CACjB,aAAc,KAChB,EAEA,IAAIC,EAAW,IAAIC,EAAe,aAAcF,CAAU,EAC1DC,EAAS,GAAG,sBAAuB,UAAY,CAAA,CAAE,EAEjDF,EAAO,iBAAiB,SAAUI,GAAS,CACzCA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,OAC5DL,EAAU,UAAY,6BAEtBO,EAAYD,CAAU,EACnB,KAAKE,GAAQ,CACZ,MAAMC,EAASZ,EAAcW,EAAK,IAAI,EACtCR,EAAU,UAAYS,EACtBN,EAAS,QAAO,EACZK,EAAK,KAAK,SAAW,GACvBE,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAAC,ECvCM,SAASH,EAAYD,EAAY,CACtC,MAAMM,EAAW,2BACXC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGP,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGM,CAAQ,IAAIC,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH"}